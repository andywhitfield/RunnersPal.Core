function rpInitialise(){$(window).resize(function(){$("aside").css("display","");$(".nav-close:visible").length>0&&($(".nav-close").css("display",""),$(".nav-show").css("display",""))});$(".nav-show").click(function(){$("aside").fadeToggle("fast");$(this).hide();$(".nav-close").show()});$(".nav-close").click(function(){$("aside").hide();$(this).hide();$(".nav-show").show()});$("[data-href]").click(function(n){return window.location.href=$(this).attr("data-href"),n.preventDefault(),!1});$("[data-confirm]").click(function(n){if(!confirm($(this).attr("data-confirm")))return n.preventDefault(),!1});$("[data-depends]").each(function(){let t=$(this),n=$(t.attr("data-depends"));if(n.is("input"))n.on("keypress",function(n){if(t.attr("disabled")&&(n.keyCode||n.which)===13)return n.preventDefault(),!1});n.on("change input paste keyup pickmeup-change",function(){let n=$(this).val();t.prop("disabled",n===null||n.match(/^\s*$/)!==null)});n.trigger("change")})}function MapRoute(n,t){var i=this;i._points=[];i._endMarker=null;i._map=n;i._map.on("click",function(n){i.addPoint(n.latlng)});i._pointsFormElement=t}coerceToArrayBuffer=function(n,t){var r,u,i;if(typeof n=="string"){for(n=n.replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);n=u}if(Array.isArray(n)&&(n=new Uint8Array(n)),n instanceof Uint8Array&&(n=n.buffer),!(n instanceof ArrayBuffer))throw new TypeError("could not coerce '"+t+"' to ArrayBuffer");return n};coerceToBase64Url=function(n){var i,r,t;if(Array.isArray(n)&&(n=Uint8Array.from(n)),n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n instanceof Uint8Array){for(i="",r=n.byteLength,t=0;t<r;t++)i+=String.fromCharCode(n[t]);n=window.btoa(i)}if(typeof n!="string")throw new Error("could not coerce to string");return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/g,"")};MapRoute.prototype.addPoint=function(n){var t=this;if(t._points.length===0){L.marker(n,{alt:"Start of route",title:"Start of route",icon:L.icon({iconUrl:"/images/pin-start.png",iconAnchor:[11,36]})}).addTo(map);t._points.push(n);t.updatePointsFormElement();return}const i=t._points[t._points.length-1];L.polyline([i,n],{color:"#d866eb"}).addTo(map);t._endMarker===null?t._endMarker=L.marker(n,{alt:"End of route",title:"End of route",icon:L.icon({iconUrl:"/images/pin-end.png",iconAnchor:[11,36]})}).addTo(map):t._endMarker.setLatLng(n);t._points.push(n);t.updatePointsFormElement()};MapRoute.prototype.updatePointsFormElement=function(){var n=this;n._pointsFormElement.val(JSON.stringify(n._points))};